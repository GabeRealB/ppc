import _ from 'lodash';

const dataset = {
    "a1": {
        "label": "A1",
        "dataPoints": [
            32.98279759964499,
            46.7598194710221,
            34.843737882684266,
            50.192666580263364,
            29.512965586086892,
            45.1982267968922,
            30.010735285455787,
            35.93790561710899,
            46.019415100941806,
            42.4094834137465,
            44.25519363682537,
            47.74872802405564,
            55.15440309417782,
            46.276065053949544,
            94.23409609806441,
            39.181565226462986,
            43.17650224306892,
            53.4848555470996,
            44.78898612666389,
            86.40076867317528,
            37.40295090130663,
            126.41426946524618,
            69.3989711605171,
            26.825244943671905,
            97.51750961150542,
            46.345732936170165,
            27.51807503964746,
            36.27269684494432,
            47.1169444873707,
            98.9078151666995,
            50.842676261654915,
            82.04797888740157,
            20.90728073233921,
            45.49939923154132,
            24.955265619810376,
            48.23428234972138,
            45.59742634418312,
            42.44345578397528,
            16.90852504645509,
            88.94498659238758,
            41.5689934956147,
            112.19050987801148,
            93.15148384735608,
            36.299225393300645,
            46.59913207549579,
            53.346702108382075,
            97.52578709704011,
            104.81909376644383,
            28.10797010037529,
            84.14186657305994,
            51.76864556105026,
            32.567778126743306,
            37.29289018352096,
            129.4456354384068,
            137.83849713117633,
            39.465673633917376,
            109.07942587124992,
            33.61982028583587,
            51.25218317382588,
            95.00737353465419,
            63.53023172164039,
            54.87347205837658,
            36.43754209268331,
            51.80046314087338,
            90.55083512099816,
            131.0107361496868,
            18.82424384108866,
            115.12986928456687,
            50.9748924254916,
            40.83351458492173,
            26.983571656749113,
            28.444094119536274,
            75.42438565072479,
            45.40713491566901,
            24.612733841663093,
            32.082435391417384,
            74.31270726499537,
            99.52608004828687,
            31.158721741781797,
            38.81311229420844,
            119.76074177692189,
            105.31440665354305,
            39.61591716510459,
            35.81764687166098,
            44.755837308775504,
            33.11050922552175,
            120.66795194112285,
            20.35237197881123,
            39.6476398925795,
            51.133230808726694,
            84.73446452863118,
            55.093853409311976,
            37.58487222550506,
            34.18968530440852,
            29.411101660282768,
            80.44629383586529,
            104.93044526989529,
            19.181234317962016,
            22.176074785765646,
            35.27970923634131,
            45.92495942243825,
            81.32328527294854,
            30.031583157200657,
            91.43218280395936,
            37.04938469949228,
            42.880489096279334,
            51.97880315302786,
            18.428930545516458,
            98.67783837748289,
            93.90916236833725,
            104.85919053269613,
            50.873259056155824,
            37.806789908472034,
            117.13830464118098,
            108.95849770435643,
            48.982934662730045,
            32.060656442666144,
            33.79433252071901,
            48.27940216980954,
            52.63628808477961,
            41.416301920156805,
            42.77788685374279,
            60.38949858284433,
            94.3268587660987,
            29.508732899702675,
            30.669787772357182,
            32.596243771495864,
            36.315050631983596,
            35.554743168035515,
            37.033156415591264,
            67.74959941913441,
            76.33774741263574,
            41.87624622224003,
            39.46541557324708,
            49.13801548831499,
            39.00877375895367,
            55.64241251400223,
            41.75452995602183,
            46.279160311564844,
            26.923002553130093,
            36.784873031511054,
            38.421818570253,
            52.95223149662422,
            47.63360924089864,
            110.81227183195328,
            102.68657218778341,
            32.83213303394881,
            30.437376857409912,
            111.77070655814148,
            115.30493969431461,
            51.835630591944046,
            90.52696227760616,
            81.34649799065228,
            52.06092092368679,
            33.52931204421799,
            36.1601991931593,
            51.04092360988646,
            58.70119951456935,
            48.81364208227372,
            46.14787719199495,
            30.744321076454728,
            57.392141086898484,
            95.4190878079123,
            34.37520978664437,
            30.780653191173784,
            30.62585306324751,
            48.93863555034758,
            38.741260830934166,
            95.61147641493669,
            45.72576732706634,
            43.887011577814846,
            29.378072367854674,
            42.59760220874216,
            95.0888601436011,
            114.26841299258786,
            42.700685720085346,
            70.98594858448934,
            78.5971985614785,
            90.36055974753923,
            42.58803866336683,
            78.79977808922283,
            49.016584835019835,
            79.99186715940179,
            90.5128426993681,
            27.53689900373305,
            33.48380987611745,
            57.99902834820258,
            42.03647474036573,
            66.52850214700551,
            44.23590440817692,
            119.93487772055596,
            76.5840687394561,
            30.420589389790344,
            35.15848326160635,
            84.20227120501384,
            87.71984400706722,
            88.08833041980937,
            81.66875250255299,
            38.51571960933632,
            41.29816391885005,
            45.697782997575175,
            89.93857396418208,
            37.77289946056037,
            98.51053635071227,
            31.5764120111524,
            30.353911515367848,
            42.13111856945695,
            37.552555770184256,
            42.675791144502,
            47.08056224976095,
            40.65693558492899,
            45.09904195459516,
            46.37019905371431,
            65.64647885619289,
            60.761436490958516,
            56.29031481232824,
            50.91694157617388,
            32.30951298394136,
            39.93722719065536,
            29.74708867149996,
            59.71826269239999,
            42.501559189651225,
            112.60715146654462,
            27.56868073814066,
            112.13702890026843,
            44.60863382665539,
            67.21877958728464,
            93.66462414225369,
            96.31632360901442,
            36.751565917796576,
            46.685017806822074,
            24.9541201371282,
            28.38421272213637,
            101.9422017753018,
            91.22001754956767,
            29.032285904346008,
            75.5203850249722,
            48.892028016763426,
            24.15255173558772,
            99.01208737129583,
            59.567914236051564,
            108.22858165285746,
            50.247786841786635,
            44.3559615628076,
            33.60600493336531,
            19.57702540233708,
            38.18281919152145,
            49.49822518347475,
            65.27307090659156,
            48.74140519504628,
            55.888678431099805,
            53.047302538710625,
            45.99053842358006,
            146.0686857445791,
            112.82171147279496,
            49.05436240995351,
            41.55230402568272,
            30.194355451510823,
            110.36244710800975,
            18.61884134935325,
            87.91427900999909,
            34.862575505877054,
            43.67007492444766,
            32.74869888924102,
            77.28416453202391,
            98.87091001948097,
            41.8234293613832,
            65.92819371152366,
            23.96946452142095,
            89.96068216509357,
            105.9429829357544,
            25.199259929916597,
            35.96000505103714,
            64.45615716902032,
            30.390731559114663,
            79.01094064070152,
            30.560416057169093,
            30.05967136195688,
            32.91400805259812,
            53.74376890537175,
            47.46020051244002,
            37.38057949273349,
            35.182794382661726,
            75.93927169508214,
            37.86888191386808,
            47.74290253073739,
            47.399931352038,
            31.81662801190474,
            117.34786410693201,
            51.25368181398219,
            32.10597081883763,
            122.80641714538196,
            35.14375975847434,
            113.00210560851899,
            57.928035781408,
            44.99752487918107,
            103.76726682582995,
            37.57217463885177,
            23.018942637386534,
            49.45504536854695
        ]
    },
    "label": {
        "label": "Label",
        "dataPoints": [
            0,
            1,
            2,
            3,
            4,
            5,
            6,
            7,
            8,
            9,
            10,
            11,
            12,
            13,
            14,
            15,
            16,
            17,
            18,
            19,
            20,
            21,
            22,
            23,
            24,
            25,
            26,
            27,
            28,
            29,
            30,
            31,
            32,
            33,
            34,
            35,
            36,
            37,
            38,
            39,
            40,
            41,
            42,
            43,
            44,
            45,
            46,
            47,
            48,
            49,
            50,
            51,
            52,
            53,
            54,
            55,
            56,
            57,
            58,
            59,
            60,
            61,
            62,
            63,
            64,
            65,
            66,
            67,
            68,
            69,
            70,
            71,
            72,
            73,
            74,
            75,
            76,
            77,
            78,
            79,
            80,
            81,
            82,
            83,
            84,
            85,
            86,
            87,
            88,
            89,
            90,
            91,
            92,
            93,
            94,
            95,
            96,
            97,
            98,
            99,
            100,
            101,
            102,
            103,
            104,
            105,
            106,
            107,
            108,
            109,
            110,
            111,
            112,
            113,
            114,
            115,
            116,
            117,
            118,
            119,
            120,
            121,
            122,
            123,
            124,
            125,
            126,
            127,
            128,
            129,
            130,
            131,
            132,
            133,
            134,
            135,
            136,
            137,
            138,
            139,
            140,
            141,
            142,
            143,
            144,
            145,
            146,
            147,
            148,
            149,
            150,
            151,
            152,
            153,
            154,
            155,
            156,
            157,
            158,
            159,
            160,
            161,
            162,
            163,
            164,
            165,
            166,
            167,
            168,
            169,
            170,
            171,
            172,
            173,
            174,
            175,
            176,
            177,
            178,
            179,
            180,
            181,
            182,
            183,
            184,
            185,
            186,
            187,
            188,
            189,
            190,
            191,
            192,
            193,
            194,
            195,
            196,
            197,
            198,
            199,
            200,
            201,
            202,
            203,
            204,
            205,
            206,
            207,
            208,
            209,
            210,
            211,
            212,
            213,
            214,
            215,
            216,
            217,
            218,
            219,
            220,
            221,
            222,
            223,
            224,
            225,
            226,
            227,
            228,
            229,
            230,
            231,
            232,
            233,
            234,
            235,
            236,
            237,
            238,
            239,
            240,
            241,
            242,
            243,
            244,
            245,
            246,
            247,
            248,
            249,
            250,
            251,
            252,
            253,
            254,
            255,
            256,
            257,
            258,
            259,
            260,
            261,
            262,
            263,
            264,
            265,
            266,
            267,
            268,
            269,
            270,
            271,
            272,
            273,
            274,
            275,
            276,
            277,
            278,
            279,
            280,
            281,
            282,
            283,
            284,
            285,
            286,
            287,
            288,
            289,
            290,
            291,
            292,
            293,
            294,
            295,
            296,
            297,
            298,
            299
        ]
    },
    "class": {
        "label": "Class",
        "range": [
            0,
            1
        ],
        "tickPositions": [
            0.25,
            0.5,
            0.75
        ],
        "tickLabels": [
            "C1",
            "Unknown",
            "C2"
        ],
        "dataPoints": [
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.75,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.75,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.75,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.25,
            0.5,
            0.75,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.75,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.75,
            0.75,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.75,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.75,
            0.5,
            0.5,
            0.5,
            0.75,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.25,
            0.5,
            0.5,
            0.25,
            0.5,
            0.75,
            0.75,
            0.5,
            0.5,
            0.25,
            0.5,
            0.75,
            0.5,
            0.25,
            0.5,
            0.5,
            0.75,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.75,
            0.5,
            0.5,
            0.5,
            0.75,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.25,
            0.5,
            0.25,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.75,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.75,
            0.5,
            0.5,
            0.5,
            0.25,
            0.75,
            0.5,
            0.75,
            0.5,
            0.25,
            0.5,
            0.5,
            0.25,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.75,
            0.25,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.5,
            0.25,
            0.5,
            0.5,
            0.25,
            0.5,
            0.25,
            0.25,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.5,
            0.25
        ]
    }
};

export function createSyntheticTestDataset(include: string[], samples?: number) {
    const data = {};
    for (const incl of include) {
        data[incl] = window.structuredClone(dataset[incl]);
    }

    const numEntries = dataset[Object.keys(dataset)[0]]['dataPoints'].length;
    const indices = Array.from({ length: numEntries }, (_, i) => i);
    const sampleIndices = new Set<number>(_.sampleSize(indices, samples ? samples : numEntries));

    if (samples !== undefined) {
        for (const key in data) {
            const attr = data[key];
            const dataPoints = attr['dataPoints'].filter((_, idx) => sampleIndices.has(idx))
            attr['dataPoints'] = dataPoints;
        }
    }

    const sampleIndicesArr = Array.from(sampleIndices);
    sampleIndicesArr.sort((a, b) => a - b);
    return { dataset: data, sampleIndices: sampleIndicesArr };
}